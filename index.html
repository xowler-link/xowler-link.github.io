<!DOCTYPE html>
<html lang="ru" data-protected="true">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="mobile-web-app-capable" content="yes">
    <title>ховлер</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <link rel="icon" type="image/x-icon" href="assets/favicon.ico">
    
    <noscript>
        <meta http-equiv="refresh" content="0; url=about:blank">
        <style>body{display:none}</style>
    </noscript>
    
    <style>
        /* ЗАЩИТА УРОВЕНЬ 1: CSS защита */
        body {
            -webkit-touch-callout: none;
            -webkit-user-select: none;
            -moz-user-select: none;
            -ms-user-select: none;
            user-select: none;
            -webkit-tap-highlight-color: transparent;
        }
        
        /* Блокировка выделения */
        ::selection {
            background: transparent;
            color: inherit;
        }
        ::-moz-selection {
            background: transparent;
            color: inherit;
        }
        
        /* Защитный overlay */
        #hardcoreProtection {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: #000;
            z-index: 2147483647;
            color: red;
            font-size: 2rem;
            text-align: center;
            align-items: center;
            justify-content: center;
            flex-direction: column;
        }
        
        input, textarea {
            -webkit-user-select: text;
            -moz-user-select: text;
            -ms-user-select: text;
            user-select: text;
        }
        
        /* Запрет масштабирования на мобильных */
        html {
            touch-action: manipulation;
        }
    </style>
</head>
<body oncontextmenu="return false" onselectstart="return false" ondragstart="return false">
    <!-- ЗАЩИТА УРОВЕНЬ 2: HTML ловушки -->
    <div id="hardcoreProtection">
        <div style="font-size:4rem;">⚠️</div>
        <div>НЕЛЕГАЛЬНЫЙ ДОСТУП</div>
        <div style="font-size:1rem; margin-top:20px;">Система безопасности заблокировала доступ</div>
    </div>

    <div class="container">
        <header class="header">
            <div class="theme-switch">
                <button id="themeToggle" aria-label="Переключить тему">
                    <i class="fas fa-moon"></i>
                </button>
            </div>
        </header>

        <main class="main-content">
            <div class="profile-card">
                <div class="avatar-container">
                    <img src="assets/avatar.jpg" alt="Аватар Ховлера" class="avatar" id="avatar">
                    <div class="avatar-status"></div>
                </div>
                
                <div class="profile-info">
                    <h1 class="username">ховлер</h1>
                    <p class="tagline">Python / JavaScript разработчик</p>
                </div>

                <div class="music-player" id="musicPlayer">
                    <div class="player-header">
                        <div class="album-art" id="albumArt">
                            <img src="assets/j.jpg" alt="Обложка трека БРАТИКИ САЙФЕР" id="albumCover">
                        </div>
                        <div class="track-info">
                            <h3 class="track-title" id="trackTitle">БРАТИКИ САЙФЕР</h3>
                            <p class="track-artist" id="trackArtist">KAMZ0NER, временно в рехабе, 7leaf, golki, мистер деньги, афоня рекордс, ONMYPLAK, mecinat</p>
                        </div>
                    </div>
                    
                    <div class="player-controls">
                        <div class="progress-container">
                            <input type="range" id="progressBar" class="progress-bar" value="0" min="0" max="100">
                            <div class="time-display">
                                <span id="currentTime">0:00</span>
                                <span id="duration">3:24</span>
                            </div>
                        </div>
                        
                        <div class="control-buttons">
                            <button id="prevBtn" class="control-btn" aria-label="Предыдущий трек">
                                <i class="fas fa-step-backward"></i>
                            </button>
                            <button id="playBtn" class="control-btn play-btn" aria-label="Воспроизвести">
                                <i class="fas fa-play"></i>
                            </button>
                            <button id="nextBtn" class="control-btn" aria-label="Следующий трек">
                                <i class="fas fa-step-forward"></i>
                            </button>
                            <div class="volume-control">
                                <button id="muteBtn" class="control-btn" aria-label="Звук">
                                    <i class="fas fa-volume-up"></i>
                                </button>
                                <input type="range" id="volumeBar" class="volume-bar" value="70" min="0" max="100">
                            </div>
                        </div>
                    </div>
                </div>

                <div class="links">
                    <a href="https://t.me/nrwgz" class="link-btn telegram" target="_blank" rel="noopener">
                        <i class="fab fa-telegram"></i>
                        <span>Telegram аккаунт</span>
                    </a>
                    
                    <a href="https://t.me/xowler_1" class="link-btn telegram-channel" target="_blank" rel="noopener">
                        <i class="fab fa-telegram-plane"></i>
                        <span>Лайф-канал</span>
                    </a>
                    
                    <a href="https://github.com/xowler-link" class="link-btn github" target="_blank" rel="noopener">
                        <i class="fab fa-github"></i>
                        <span>GitHub профиль</span>
                    </a>
                </div>
            </div>
        </main>
    </div>

    <!-- УМНАЯ ЗАЩИТА: Только для Desktop и при попытке открыть DevTools -->
    <script>
        // ===== ОСНОВНАЯ ФУНКЦИЯ ЗАЩИТЫ =====
        function activateHardProtection() {
            const protection = document.getElementById('hardcoreProtection');
            protection.style.display = 'flex';
            
            // Блокируем все
            document.body.style.overflow = 'hidden';
            document.documentElement.style.overflow = 'hidden';
            
            // Через 3 секунды возвращаем обратно (для мобильных)
            setTimeout(() => {
                protection.style.display = 'none';
                document.body.style.overflow = '';
                document.documentElement.style.overflow = '';
            }, 3000);
        }
        
        // ===== ПРОВЕРКА НА МОБИЛЬНЫЕ УСТРОЙСТВА =====
        function isMobileDevice() {
            return /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);
        }
        
        // ===== ПРОВЕРКА НА KIWI BROWSER =====
        function isKiwiBrowser() {
            const ua = navigator.userAgent.toLowerCase();
            return ua.includes('kiwi') || ua.includes('xwalk');
        }
        
        // ===== УМНОЕ ОБНАРУЖЕНИЕ DEVTOOLS =====
        function smartDetectDevTools() {
            // На мобильных - менее строгая проверка
            if (isMobileDevice()) {
                const widthDiff = Math.abs(window.outerWidth - window.innerWidth);
                const heightDiff = Math.abs(window.outerHeight - window.innerHeight);
                
                // На мобильных DevTools обычно больше 300px
                if (widthDiff > 300 || heightDiff > 300) {
                    return true;
                }
                return false;
            }
            
            // На десктопе - строгая проверка
            const widthDiff = Math.abs(window.outerWidth - window.innerWidth);
            const heightDiff = Math.abs(window.outerHeight - window.innerHeight);
            
            // На десктопе DevTools обычно больше 100px
            if (widthDiff > 100 || heightDiff > 100) {
                return true;
            }
            
            return false;
        }
        
        // ===== БЛОКИРОВКА ТОЛЬКО КЛАВИШ DEVTOOLS =====
        function setupSmartKeyProtection() {
            // Только на десктопе блокируем F12
            if (!isMobileDevice()) {
                document.addEventListener('keydown', function(e) {
                    // Блокировка F12
                    if (e.key === 'F12') {
                        e.preventDefault();
                        e.stopPropagation();
                        activateHardProtection();
                        return false;
                    }
                    
                    // Блокировка Ctrl+Shift+I только на десктопе
                    if (e.ctrlKey && e.shiftKey && e.key === 'I') {
                        e.preventDefault();
                        e.stopPropagation();
                        activateHardProtection();
                        return false;
                    }
                    
                    // Блокировка Ctrl+Shift+J только на десктопе
                    if (e.ctrlKey && e.shiftKey && e.key === 'J') {
                        e.preventDefault();
                        e.stopPropagation();
                        activateHardProtection();
                        return false;
                    }
                    
                    // Блокировка Ctrl+U только на десктопе
                    if (e.ctrlKey && e.key === 'U') {
                        e.preventDefault();
                        e.stopPropagation();
                        activateHardProtection();
                        return false;
                    }
                }, true);
            }
            
            // Для всех устройств блокируем контекстное меню
            document.addEventListener('contextmenu', function(e) {
                if (!isMobileDevice() || isKiwiBrowser()) {
                    e.preventDefault();
                    return false;
                }
            }, true);
        }
        
        // ===== ЗАПУСК УМНОЙ СИСТЕМЫ ЗАЩИТЫ =====
        function startSmartSecuritySystem() {
            console.log('[SECURITY] Умная система защиты активирована');
            
            // 1. Настройка защиты клавиш
            setupSmartKeyProtection();
            
            // 2. Проверка DevTools с интервалом
            let lastWidth = window.outerWidth;
            let lastHeight = window.outerHeight;
            let detectionCount = 0;
            
            const checkInterval = setInterval(() => {
                // Проверяем изменение размеров (признак DevTools)
                if (window.outerWidth !== lastWidth || window.outerHeight !== lastHeight) {
                    if (smartDetectDevTools()) {
                        detectionCount++;
                        
                        // На мобильных нужно больше подтверждений
                        const threshold = isMobileDevice() ? 3 : 2;
                        
                        if (detectionCount >= threshold) {
                            activateHardProtection();
                            detectionCount = 0;
                        }
                    }
                    
                    lastWidth = window.outerWidth;
                    lastHeight = window.outerHeight;
                } else {
                    detectionCount = 0;
                }
                
                // Проверка debugger (только на десктопе)
                if (!isMobileDevice()) {
                    const start = Date.now();
                    (function(){})["constructor"]("debugger")();
                    if (Date.now() - start > 100) {
                        activateHardProtection();
                    }
                }
            }, 1000);
            
            // 3. Для Kiwi Browser - дополнительная защита
            if (isKiwiBrowser()) {
                console.log('[SECURITY] Kiwi Browser обнаружен');
                
                // Проверяем наличие DevTools в Kiwi
                setInterval(() => {
                    // В Kiwi DevTools добавляют свои классы
                    const hasDevToolsElements = document.querySelector('[class*="devtools"], [class*="DevTools"]');
                    if (hasDevToolsElements) {
                        activateHardProtection();
                    }
                }, 500);
            }
            
            // 4. Защита от удаления защиты
            Object.defineProperty(window, 'stopSecurity', {
                get() {
                    activateHardProtection();
                    return function() {};
                },
                configurable: false,
                enumerable: false
            });
            
            // 5. Блокировка консоли (мягкая)
            if (!isMobileDevice()) {
                const consoleMethods = ['log', 'warn', 'error', 'info', 'debug'];
                consoleMethods.forEach(method => {
                    if (console[method]) {
                        const original = console[method];
                        console[method] = function(...args) {
                            // Разрешаем первые 5 вызовов (чтобы наш код работал)
                            if (window.consoleCallCount === undefined) {
                                window.consoleCallCount = 0;
                            }
                            
                            if (window.consoleCallCount < 5) {
                                window.consoleCallCount++;
                                return original.apply(this, args);
                            }
                            
                            // После 5 вызовов - активируем защиту
                            if (window.consoleCallCount >= 5) {
                                activateHardProtection();
                            }
                            return null;
                        };
                    }
                });
            }
        }
        
        // Запускаем после загрузки
        if (document.readyState === 'loading') {
            document.addEventListener('DOMContentLoaded', startSmartSecuritySystem);
        } else {
            startSmartSecuritySystem();
        }
        
        // Дополнительная защита только для десктопа
        if (!isMobileDevice()) {
            // Блокировка копирования
            document.addEventListener('copy', function(e) {
                e.preventDefault();
                return false;
            }, true);
            
            // Блокировка перетаскивания
            document.addEventListener('dragstart', function(e) {
                e.preventDefault();
                return false;
            }, true);
        }
        
        // Запрет открытия в iframe
        if (window.top !== window.self) {
            window.top.location = window.self.location;
        }
    </script>
    
    <script src="script.js"></script>
</body>
</html>htDiff > 200) {
                return true;
            }
            
            // Метод 2: Проверка через Date (Kiwi иногда показывает разное время)
            const start = Date.now();
            debugger;
            if (Date.now() - start > 100) {
                return true;
            }
            
            // Метод 3: Проверка доступности eval (в DevTools работает иначе)
            try {
                eval("(() => {})");
            } catch(e) {
                return true;
            }
            
            return false;
        }
        
        // ===== УРОВЕНЬ 3: Блокировка клавиш =====
        function setupKeyProtection() {
            const blockedKeys = ['F12', 'F8', 'F5'];
            const blockedCombos = [
                {ctrl: true, shift: true, key: 'I'},
                {ctrl: true, shift: true, key: 'J'},
                {ctrl: true, shift: true, key: 'C'},
                {ctrl: true, key: 'U'},
                {ctrl: true, key: 'S'},
                {ctrl: true, key: 'P'}
            ];
            
            document.addEventListener('keydown', function(e) {
                // Блокировка F-клавиш
                if (blockedKeys.includes(e.key)) {
                    e.preventDefault();
                    e.stopPropagation();
                    e.stopImmediatePropagation();
                    activateHardProtection();
                    return false;
                }
                
                // Блокировка комбинаций
                for (const combo of blockedCombos) {
                    if ((combo.ctrl ? e.ctrlKey : true) &&
                        (combo.shift ? e.shiftKey : true) &&
                        e.key === combo.key) {
                        e.preventDefault();
                        e.stopPropagation();
                        e.stopImmediatePropagation();
                        activateHardProtection();
                        return false;
                    }
                }
                
                // Дополнительная защита для Kiwi (Alt+Menu и т.д.)
                if (e.altKey && (e.key === 'm' || e.key === 'M')) {
                    e.preventDefault();
                    activateHardProtection();
                    return false;
                }
            }, true);
            
            // Дублируем обработчик для максимальной защиты
            window.addEventListener('keydown', function(e) {
                if (e.key === 'F12') {
                    activateHardProtection();
                }
            }, true);
        }
        
        // ===== УРОВЕНЬ 4: Защита от Kiwi Browser =====
        function kiwiBrowserProtection() {
            // Проверяем мобильные признаки
            const isMobile = /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);
            
            if (isMobile) {
                // Дополнительные проверки для Kiwi
                setInterval(() => {
                    // Проверка изменений в DOM (Kiwi добавляет свои элементы)
                    const traps = document.querySelectorAll('.devtrap');
                    traps.forEach(trap => {
                        if (trap.offsetParent !== null || 
                            trap.style.display !== 'none' ||
                            trap.getBoundingClientRect().width > 0) {
                            activateHardProtection();
                        }
                    });
                    
                    // Проверка через ошибки (в DevTools поведение другое)
                    try {
                        throw new Error('security_check');
                    } catch(e) {
                        if (e.stack && e.stack.includes('devtools')) {
                            activateHardProtection();
                        }
                    }
                }, 500);
            }
        }
        
        // ===== УРОВЕНЬ 5: Защита от изменения кода =====
        function codeIntegrityCheck() {
            const originalHTML = document.documentElement.outerHTML;
            const scriptCheck = document.querySelectorAll('script').length;
            
            setInterval(() => {
                // Проверка целостности HTML
                if (document.documentElement.outerHTML.length < originalHTML.length * 0.5) {
                    activateHardProtection();
                }
                
                // Проверка количества скриптов
                if (document.querySelectorAll('script').length > scriptCheck + 2) {
                    activateHardProtection();
                }
                
                // Проверка стилей защиты
                const styleCheck = document.querySelector('[data-inspect="blocked"]');
                if (!styleCheck) {
                    activateHardProtection();
                }
            }, 1000);
        }
        
        // ===== УРОВЕНЬ 6: Сетевые проверки =====
        function networkProtection() {
            // Блокировка fetch/XMLHttpRequest из консоли
            const originalFetch = window.fetch;
            window.fetch = function(...args) {
                const stack = new Error().stack;
                if (stack && stack.includes('devtools') || stack.includes('console')) {
                    activateHardProtection();
                    return Promise.reject(new Error('Security block'));
                }
                return originalFetch.apply(this, args);
            };
            
            // Защита XMLHttpRequest
            const originalXHR = window.XMLHttpRequest;
            window.XMLHttpRequest = class extends originalXHR {
                open(...args) {
                    const stack = new Error().stack;
                    if (stack && stack.includes('devtools')) {
                        activateHardProtection();
                        return;
                    }
                    super.open(...args);
                }
            };
        }
        
        // ===== ЗАПУСК ВСЕХ СИСТЕМ ЗАЩИТЫ =====
        function startSecuritySystem() {
            console.log('[SECURITY] Система защиты активирована');
            
            // 1. Проверка debugger
            setInterval(() => {
                if (debuggerCheck() || detectDevTools()) {
                    activateHardProtection();
                }
            }, 500);
            
            // 2. Настройка защиты клавиш
            setupKeyProtection();
            
            // 3. Защита от Kiwi
            kiwiBrowserProtection();
            
            // 4. Проверка целостности кода
            codeIntegrityCheck();
            
            // 5. Сетевая защита
            networkProtection();
            
            // 6. Постоянный мониторинг
            let lastWidth = window.outerWidth;
            let lastHeight = window.outerHeight;
            
            setInterval(() => {
                // Мониторинг изменений размеров
                if (window.outerWidth !== lastWidth || window.outerHeight !== lastHeight) {
                    if (Math.abs(window.outerWidth - window.innerWidth) > 200 ||
                        Math.abs(window.outerHeight - window.innerHeight) > 200) {
                        activateHardProtection();
                    }
                    lastWidth = window.outerWidth;
                    lastHeight = window.outerHeight;
                }
                
                // Проверка фокуса (DevTools могут влиять)
                if (!document.hasFocus()) {
                    setTimeout(() => {
                        if (!document.hasFocus()) {
                            activateHardProtection();
                        }
                    }, 100);
                }
            }, 300);
            
            // 7. Защита от удаления защиты
            Object.defineProperty(window, 'stopSecurity', {
                get() {
                    activateHardProtection();
                    return function() {};
                },
                configurable: false,
                enumerable: false
            });
        }
        
        // Запускаем после загрузки
        if (document.readyState === 'loading') {
            document.addEventListener('DOMContentLoaded', startSecuritySystem);
        } else {
            startSecuritySystem();
        }
        
        // Дублируем запуск
        window.addEventListener('load', startSecuritySystem);
        
        // ===== ДОПОЛНИТЕЛЬНАЯ ЗАЩИТА =====
        // Блокировка контекстного меню
        document.addEventListener('contextmenu', function(e) {
            e.preventDefault();
            activateHardProtection();
            return false;
        }, true);
        
        // Блокировка перетаскивания
        document.addEventListener('dragstart', function(e) {
            e.preventDefault();
            return false;
        }, true);
        
        // Блокировка выделения
        document.addEventListener('selectstart', function(e) {
            e.preventDefault();
            return false;
        }, true);
        
        // Блокировка копирования
        document.addEventListener('copy', function(e) {
            e.preventDefault();
            return false;
        }, true);
        
        // Запрет открытия в iframe
        if (window.top !== window.self) {
            document.body.innerHTML = '';
            window.top.location = window.self.location;
        }
        
        // Обфускация кода (частичная)
        const _0x1a2b3c = ['log', 'warn', 'error', 'info', 'debug'];
        _0x1a2b3c.forEach(method => {
            if (console[method]) {
                console[method] = function() {
                    activateHardProtection();
                };
            }
        });
    </script>
    
    <script src="script.js"></script>
</body>
    </html>
