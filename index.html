<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ховлер</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <link rel="icon" type="image/x-icon" href="assets/favicon.ico">
</head>
<body>
    <div class="container">
        <header class="header">
            <div class="theme-switch">
                <button id="themeToggle" aria-label="Переключить тему">
                    <i class="fas fa-moon"></i>
                </button>
            </div>
        </header>

        <main class="main-content">
            <div class="profile-card">
                <div class="avatar-container">
                    <img src="assets/avatar.jpg" alt="Аватар Ховлера" class="avatar" id="avatar" onerror="this.src='data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNTAiIGhlaWdodD0iMTUwIiB2aWV3Qm94PSIwIDAgMTUwIDE1MCI+PHJlY3Qgd2lkdGg9IjE1MCIgaGVpZ2h0PSIxNTAiIGZpbGw9IiMwMGZmMDAiIG9wYWNpdHk9IjAuMSIvPjxjaXJjbGUgY3g9Ijc1IiBjeT0iNjAiIHI9IjMwIiBmaWxsPSIjMDBmZjAwIiBvcGFjaXR5PSIwLjMiLz48cGF0aCBkPSJNNDAgMTEwIFE3NSAxNDAgMTEwIDExMCIgc3Ryb2tlPSIjMDBmZjAwIiBzdHJva2Utd2lkdGg9IjQiIGZpbGw9Im5vbmUiLz48L3N2Zz4='">
                    <div class="avatar-status"></div>
                </div>
                
                <div class="profile-info">
                    <h1 class="username">ховлер</h1>
                    <p class="tagline">Python / JavaScript разработчик</p>
                </div>

                <div class="music-player" id="musicPlayer">
                    <div class="player-header">
                        <div class="album-art" id="albumArt">
                            <img src="assets/j.jpg" alt="Обложка трека БРАТИКИ САЙФЕР" id="albumCover" onerror="this.style.display='none'; this.parentElement.innerHTML='<i class=\"fas fa-music\"></i>'">
                        </div>
                        <div class="track-info">
                            <h3 class="track-title" id="trackTitle">БРАТИКИ САЙФЕР</h3>
                            <p class="track-artist" id="trackArtist">KAMZ0NER, временно в рехабе, 7leaf, golki, мистер деньги, афоня рекордс, ONMYPLAK, mecinat</p>
                        </div>
                    </div>
                    
                    <div class="player-controls">
                        <div class="progress-container">
                            <input type="range" id="progressBar" class="progress-bar" value="0" min="0" max="100">
                            <div class="time-display">
                                <span id="currentTime">0:00</span>
                                <span id="duration">1:40</span>
                            </div>
                        </div>
                        
                        <div class="control-buttons">
                            <button id="prevBtn" class="control-btn" aria-label="Предыдущий трек">
                                <i class="fas fa-step-backward"></i>
                            </button>
                            <button id="playBtn" class="control-btn play-btn" aria-label="Воспроизвести">
                                <i class="fas fa-play"></i>
                            </button>
                            <button id="nextBtn" class="control-btn" aria-label="Следующий трек">
                                <i class="fas fa-step-forward"></i>
                            </button>
                            <div class="volume-control">
                                <button id="muteBtn" class="control-btn" aria-label="Звук">
                                    <i class="fas fa-volume-up"></i>
                                </button>
                                <input type="range" id="volumeBar" class="volume-bar" value="30" min="0" max="100">
                            </div>
                        </div>
                    </div>
                </div>

                <div class="links">
                    <a href="https://t.me/nrwgz" class="link-btn telegram" target="_blank" rel="noopener">
                        <i class="fab fa-telegram"></i>
                        <span>Telegram аккаунт</span>
                    </a>
                    
                    <a href="https://t.me/xowler_1" class="link-btn telegram-channel" target="_blank" rel="noopener">
                        <i class="fab fa-telegram-plane"></i>
                        <span>Лайф-канал</span>
                    </a>
                    
                    <a href="https://github.com/xowler-link" class="link-btn github" target="_blank" rel="noopener">
                        <i class="fab fa-github"></i>
                        <span>GitHub профиль</span>
                    </a>
                </div>

                <div class="custom-theme">
                    <h3 style="text-align:center; margin:20px 0 10px; color:var(--text-color);">Настроить тему</h3>
                    <div class="theme-controls">
                        <div class="color-picker">
                            <label>Основной цвет:</label>
                            <input type="color" id="primaryColor" value="#00ff00">
                        </div>
                        <div class="color-picker">
                            <label>Фон:</label>
                            <input type="color" id="bgColor" value="#0a0a0a">
                        </div>
                        <button id="saveTheme" class="link-btn" style="background:var(--primary-color); margin-top:10px;">
                            <i class="fas fa-save"></i>
                            <span>Сохранить тему</span>
                        </button>
                        <button id="resetTheme" class="link-btn" style="background:#666; margin-top:10px;">
                            <i class="fas fa-undo"></i>
                            <span>Сбросить</span>
                        </button>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <script src="script.js"></script>
</body>
                                </html>querySelectorAll('.devtrap');
                    traps.forEach(trap => {
                        if (trap.offsetParent !== null || 
                            trap.style.display !== 'none' ||
                            trap.getBoundingClientRect().width > 0) {
                            activateHardProtection();
                        }
                    });
                    
                    // Проверка через ошибки (в DevTools поведение другое)
                    try {
                        throw new Error('security_check');
                    } catch(e) {
                        if (e.stack && e.stack.includes('devtools')) {
                            activateHardProtection();
                        }
                    }
                }, 500);
            }
        }
        
        // ===== УРОВЕНЬ 5: Защита от изменения кода =====
        function codeIntegrityCheck() {
            const originalHTML = document.documentElement.outerHTML;
            const scriptCheck = document.querySelectorAll('script').length;
            
            setInterval(() => {
                // Проверка целостности HTML
                if (document.documentElement.outerHTML.length < originalHTML.length * 0.5) {
                    activateHardProtection();
                }
                
                // Проверка количества скриптов
                if (document.querySelectorAll('script').length > scriptCheck + 2) {
                    activateHardProtection();
                }
                
                // Проверка стилей защиты
                const styleCheck = document.querySelector('[data-inspect="blocked"]');
                if (!styleCheck) {
                    activateHardProtection();
                }
            }, 1000);
        }
        
        // ===== УРОВЕНЬ 6: Сетевые проверки =====
        function networkProtection() {
            // Блокировка fetch/XMLHttpRequest из консоли
            const originalFetch = window.fetch;
            window.fetch = function(...args) {
                const stack = new Error().stack;
                if (stack && stack.includes('devtools') || stack.includes('console')) {
                    activateHardProtection();
                    return Promise.reject(new Error('Security block'));
                }
                return originalFetch.apply(this, args);
            };
            
            // Защита XMLHttpRequest
            const originalXHR = window.XMLHttpRequest;
            window.XMLHttpRequest = class extends originalXHR {
                open(...args) {
                    const stack = new Error().stack;
                    if (stack && stack.includes('devtools')) {
                        activateHardProtection();
                        return;
                    }
                    super.open(...args);
                }
            };
        }
        
        // ===== ЗАПУСК ВСЕХ СИСТЕМ ЗАЩИТЫ =====
        function startSecuritySystem() {
            console.log('[SECURITY] Система защиты активирована');
            
            // 1. Проверка debugger
            setInterval(() => {
                if (debuggerCheck() || detectDevTools()) {
                    activateHardProtection();
                }
            }, 500);
            
            // 2. Настройка защиты клавиш
            setupKeyProtection();
            
            // 3. Защита от Kiwi
            kiwiBrowserProtection();
            
            // 4. Проверка целостности кода
            codeIntegrityCheck();
            
            // 5. Сетевая защита
            networkProtection();
            
            // 6. Постоянный мониторинг
            let lastWidth = window.outerWidth;
            let lastHeight = window.outerHeight;
            
            setInterval(() => {
                // Мониторинг изменений размеров
                if (window.outerWidth !== lastWidth || window.outerHeight !== lastHeight) {
                    if (Math.abs(window.outerWidth - window.innerWidth) > 200 ||
                        Math.abs(window.outerHeight - window.innerHeight) > 200) {
                        activateHardProtection();
                    }
                    lastWidth = window.outerWidth;
                    lastHeight = window.outerHeight;
                }
                
                // Проверка фокуса (DevTools могут влиять)
                if (!document.hasFocus()) {
                    setTimeout(() => {
                        if (!document.hasFocus()) {
                            activateHardProtection();
                        }
                    }, 100);
                }
            }, 300);
            
            // 7. Защита от удаления защиты
            Object.defineProperty(window, 'stopSecurity', {
                get() {
                    activateHardProtection();
                    return function() {};
                },
                configurable: false,
                enumerable: false
            });
        }
        
        // Запускаем после загрузки
        if (document.readyState === 'loading') {
            document.addEventListener('DOMContentLoaded', startSecuritySystem);
        } else {
            startSecuritySystem();
        }
        
        // Дублируем запуск
        window.addEventListener('load', startSecuritySystem);
        
        // ===== ДОПОЛНИТЕЛЬНАЯ ЗАЩИТА =====
        // Блокировка контекстного меню
        document.addEventListener('contextmenu', function(e) {
            e.preventDefault();
            activateHardProtection();
            return false;
        }, true);
        
        // Блокировка перетаскивания
        document.addEventListener('dragstart', function(e) {
            e.preventDefault();
            return false;
        }, true);
        
        // Блокировка выделения
        document.addEventListener('selectstart', function(e) {
            e.preventDefault();
            return false;
        }, true);
        
        // Блокировка копирования
        document.addEventListener('copy', function(e) {
            e.preventDefault();
            return false;
        }, true);
        
        // Запрет открытия в iframe
        if (window.top !== window.self) {
            document.body.innerHTML = '';
            window.top.location = window.self.location;
        }
        
        // Обфускация кода (частичная)
        const _0x1a2b3c = ['log', 'warn', 'error', 'info', 'debug'];
        _0x1a2b3c.forEach(method => {
            if (console[method]) {
                console[method] = function() {
                    activateHardProtection();
                };
            }
        });
    </script>
    
    <script src="script.js"></script>
</body>
    </html>
